var TimedStorage=function(t,e,r,n){var i=e.require=function(t){return e[t]};return"undefined"!=typeof exports&&(e[r]=exports),function(t){var e=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});var r;t("linked-storage",["require","exports"],(function(t,e){var r=function(){function t(){this.latest=null,this.items={},this.length=0}return t.prototype.get=function(t){var e=this.getItem(t);if(e)return e.value},t.prototype.set=function(t,e){this.setItem(t,{value:e})},t.prototype.getItem=function(t){var e=this.items[t];if(e&&!e.deleted)return e},t.prototype.setItem=function(t,e){var r=e;this.delete(t),this.items[t]=r,this.length++,r.key=t;var n=this.latest;n&&(r.next=n.deleted?n.next:n),this.latest=r},t.prototype.size=function(){return this.length},t.prototype.shrink=function(t){for(var e=this.latest;e;){if(0>=t)return void this.truncate(e);e.deleted||t--,e=e.next}},t.prototype.delete=function(t){var e=this.getItem(t);e&&this._delete(e)},t.prototype._delete=function(t){var e;if(t)for(t.deleted||(delete this.items[t.key],this.length--,t.key=t.value=null,t.deleted=!0);t&&t.deleted;)e&&(e.next=t.next),e=t,t=t.next},t.prototype.truncate=function(t){for(var e=t;e;)this._delete(e),e=e.next},t.prototype.values=function(){for(var t=[],e=this.latest;e;)e.deleted||t.push(e.value),e=e.next;return t.reverse()},t}();e.LinkedStorage=r})),t("timed-storage",["require","exports","linked-storage"],(function(t,r,n){var i=function(t){var r=t.prototype;function n(e){var r=t.call(this)||this,n=e||{},i=n.expires,o=n.maxItems;return r.expires=i>0&&+i||0,r.maxItems=o>0&&+o||0,r}return e(n,t),n.prototype.getItem=function(t){var e=this.expires,n=r.getItem.call(this,t);if(n){if(e)if(Date.now()>n.ttl)return void r.truncate.call(this,n);return n}},n.prototype.setItem=function(t,e){var n=this,i=this,o=i.expires,s=i.maxItems;if(o){var u=Date.now();e.ttl=u+o}if(r.setItem.call(this,t,e),s){if(this.gcTimeout||s>=this.size())return;this.gcTimeout=setTimeout((function(){n.shrink(s),delete n.gcTimeout}),1e3)}},n}(n.LinkedStorage);r.TimedStorage=i}))}((function(t,r,n){e.exports=e[t]||(e[t]={}),n.apply(null,r.map(i))})),e[r].TimedStorage}(0,{},"timed-storage");