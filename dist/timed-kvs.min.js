var TimedKVS=function(t,e,n,r){var i=e.require=function(t){return e[t]};return"undefined"!=typeof exports&&(e[n]=exports),function(t){var e=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});var n;t("linked-kvs",["require","exports"],(function(t,e){var n=function(){function t(){this.latest=null,this.items={},this.length=0}return t.prototype.get=function(t){var e=this.getItem(t);if(e)return e.value},t.prototype.set=function(t,e){this.setItem(t,{value:e})},t.prototype.getItem=function(t){var e=this.items[t];if(e&&!e.deleted)return e},t.prototype.setItem=function(t,e){var n=e;this.delete(t),this.items[t]=n,this.length++,n.key=t;var r=this.latest;r&&(n.next=r.deleted?r.next:r),this.latest=n},t.prototype.size=function(){return this.length},t.prototype.shrink=function(t){for(var e=this.latest;e;){if(0>=t)return void this.truncate(e);e.deleted||t--,e=e.next}},t.prototype.delete=function(t){var e=this.getItem(t);e&&this._delete(e)},t.prototype._delete=function(t){var e;if(t)for(t.deleted||(delete this.items[t.key],this.length--,t.key=t.value=null,t.deleted=!0);t&&t.deleted;)e&&(e.next=t.next),e=t,t=t.next},t.prototype.truncate=function(t){for(var e=t;e;)this._delete(e),e=e.next},t.prototype.values=function(){for(var t=[],e=this.latest;e;)e.deleted||t.push(e.value),e=e.next;return t.reverse()},t}();e.LinkedKVS=n})),t("timed-kvs",["require","exports","linked-kvs"],(function(t,n,r){var i=function(t){var n=t.prototype;function r(e){var n=t.call(this)||this,r=e||{},i=r.expires,o=r.maxItems;return n.expires=i>0&&+i||0,n.maxItems=o>0&&+o||0,n}return e(r,t),r.prototype.getItem=function(t){var e=this.expires,r=n.getItem.call(this,t);if(r){if(e)if(Date.now()>r.ttl)return void n.truncate.call(this,r);return r}},r.prototype.setItem=function(t,e){var r=this,i=this,o=i.expires,s=i.maxItems;if(o){var u=Date.now();e.ttl=u+o}if(n.setItem.call(this,t,e),s){if(this.gcTimeout||s>=this.size())return;this.gcTimeout=setTimeout((function(){r.shrink(s),delete r.gcTimeout}),1e3)}},r}(r.LinkedKVS);n.TimedKVS=i}))}((function(t,n,r){e.exports=e[t]||(e[t]={}),r.apply(null,n.map(i))})),e[n].TimedKVS}(0,{},"timed-kvs");